<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <!-- Âü∫Á°Ä‰ø°ÊÅØ -->
  <meta charset="utf-8">
  <!--È°µÈù¢Â§¥ÈÉ®Ê∑ªÂä†-->
  <meta name="referrer" content="no-referrer" />
  <meta http-equiv="Access-Control-Allow-Origin" content="*">
  <!-- Âº∫Âà∂ HTTPS -->
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="force-rendering" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#424242">
  <meta name="description" content="‰∏Ä‰∏™Â±ïÁ§∫È°πÁõÆÁöÑ‰∏ªÈ°µ">
  <meta name="keywords" content="Miate,ÈáëÁéâÁôΩËèú,‰∏™‰∫∫ÂçöÂÆ¢,‰∏™‰∫∫‰∏ªÈ°µ">
  <meta name="author" content="Miate">

  <title>Miate„ÅÆ‰∏ªÈ°µ</title>
  <!-- jQuery -->
  <script src="./js/lib/jquery-3.7.1.min.js"></script>
  <!-- HarmonyOS Sans -->
  <!-- https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css -->
  <link rel="stylesheet" href="./css/lib/regular.css" />
  <!-- ÂºïÂÖ•Ê†∑Âºè -->
  <link rel="stylesheet" type="text/css"
    href="./css/lib/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <link rel="stylesheet" type="text/css" href="./css/mobile.css">
  <link rel="stylesheet" type="text/css" href="./css/loading.css">
  <link rel="stylesheet" type="text/css" href="./css/animation.css">
  <link rel="icon" href="./img/icon/192.png">
  <link rel="apple-touch-icon" href="./img/icon/apple-touch-icon.png">
  <!-- Izitoast -->
  <link rel="stylesheet" href="./css/lib/iziToast.min.css">
  <script type="text/javascript" src="./js/lib/iziToast.min.js"></script>
  <!-- FontAwesome -->
  <link rel="stylesheet" href="./css/lib/all.min.css">
  <!-- Aplayer -->
  <link rel="stylesheet" href="./css/lib/APlayer.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="./js/lib/APlayer.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script async src="./js/lib/gtag.js"></script>
  <!-- IE Out -->
  <script>
    if ( /*@cc_on!@*/ (!!window.MSInputMethodContext && !!document.documentMode)) {
      window.location.href = "/upgrade-your-browser/index.html?referrer=" + encodeURIComponent(window.location.href);
    }

    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-2WVH35V11W');
  </script>
</head>

<body>
  <div id="app">
    <!-- Âä†ËΩΩÂä®Áîª -->
    <div id="loading-box">
      <div class="loading-left-bg"></div>
      <div class="loading-right-bg"></div>
      <div class="spinner-box">
        <div class="loader">
          <div class="inner one"></div>
          <div class="inner two"></div>
          <div class="inner three"></div>
        </div>
        <div class="loading-word">
          <p class="loading-title" id="loading-title">{{ Config.title }}</p>
          <span id="loading-text">Âä†ËΩΩ‰∏≠</span>
        </div>
      </div>
    </div>
    <section id="section" class="section">
      <!-- ËÉåÊôØÂõæÁâá -->
      <div class="bg-all">
        <img id="bg" onerror="this.classList.add('error')">
        <div class="cover"></div>
      </div>
      <!-- Èº†Ê†áÊåáÈíà -->
      <div id="g-pointer-1"></div>
      <div id="g-pointer-2"></div>
      <!-- ‰∏ª‰Ωì -->
      <main id="main" class="main">
        <div class="container" id="container">
          <div class="row" id="row">
            <div class="col left">
              <!-- Âü∫Êú¨‰ø°ÊÅØ -->
              <div class="main-left">
                <!-- logo -->
                <div class="main-img">
                  <img id="logo-img" :src="Config.logo_img" alt="img">
                  <div class="img-title">
                    <span class="img-title-big" id="logo-text-1">{{ Config.logo_text_1 }}</span>
                    <span class="img-text" id="logo-text-2">.{{ Config.logo_text_2 }}</span>
                  </div>
                </div>
                <!--‰ªãÁªç‰ø°ÊÅØ-->
                <div class="message cards" id="switchmore">
                  <div class="des" id="des">
                    <i class="fa-solid fa-quote-left"></i>
                    <div class="des-title">
                      <span id="change">Hello&nbsp;World&nbsp;!</span>
                      <br />
                      <span id="change1">{{ Config.change1 }}</span>
                    </div>
                    <i class="fa-solid fa-quote-right"></i>
                  </div>
                </div>
                <!--Á§æ‰∫§ÈìæÊé•-->
                <div class="social" id="social" style="padding-left: 4px">
                  <a v-for="item in Config.socialList" :href="item.url" class="link" :id="item.id" target="_blank">
                    <i :class="item.icon"></i>
                  </a>
                  <a id="link-text">ÈÄöËøáËøôÈáåËÅîÁ≥ªÊàë</a>
                </div>
              </div>
            </div>
            <!-- Á¨¨‰∫åÂ±è logo -->
            <div class="logo cards" style="display: none;" id="changemore">
              <a class="logo-text" id="logo-text-small">{{ Config.logo_text_small }}</a>
            </div>
            <div class="col right">
              <div class="main-right">
                <!-- ÂäüËÉΩÂå∫ -->
                <div class="row rightone" id="rightone">
                  <div class="col hitokotos">
                    <!-- ‰∏ÄË®Ä -->
                    <div class="hitokoto cards" id="hitokoto">
                      <!-- ÊâìÂºÄÈü≥‰πê -->
                      <div class="open-music fixed-top" id="open-music">
                        <i class="fa-solid fa-compact-disc"></i>
                        <span>&nbsp;ÊâìÂºÄÈü≥‰πêÊí≠ÊîæÂô®</span>
                      </div>
                      <!-- ÂàáÊç¢Èü≥‰πê -->
                      <div class="hitokoto-all">
                        <div class="hitokoto-text">
                          <span id="hitokoto-text">Ë∑ùÁ¶ªÔºå‰∏çËøáÊòØ‰∏ÄÊÆµÁ©∫Èó¥</span>
                        </div>
                        <div class="hitokoto-from">
                          -„Äå&nbsp;<span id="from-text">ÁÑ°Âêç</span>&nbsp;„Äç
                        </div>
                      </div>
                    </div>
                    <!-- Èü≥‰πê -->
                    <div class="music" id="music">
                      <div class="music-all">
                        <div class="music-button">
                          <div id="music-open">Èü≥‰πêÂàóË°®</div>
                          <div id="music-close">ÂõûÂà∞‰∏ÄË®Ä</div>
                        </div>
                        <div class="music-control">
                          <i class="fa-solid fa-backward-step" id="last"></i>
                          <div id="play">
                            <i class="fa-solid fa-play"></i>
                          </div>
                          <i class="fa-solid fa-forward-step" id="next"></i>
                        </div>
                        <div class="music-menu">
                          <div class="music-text">
                            <span id="music-name">Êú™Êí≠ÊîæÈü≥‰πê</span>
                          </div>
                          <div class="music-volume" style="display: none;">
                            <div id="volume-ico">
                              <i class="fa-solid fa-volume-low"></i>
                            </div>
                            <input type="range" min="0" max="1" step="0.01" value="0.5" id="volume">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col times">
                    <!-- Êó∂Èó¥ -->
                    <div class="time cards" id="upWeather">
                      <div class="timeshow" id="time">
                        2000&nbsp;Âπ¥&nbsp;0&nbsp;Êúà&nbsp;00&nbsp;Êó•&nbsp;
                        <span class="weekday">ÊòüÊúü‰∏Ä</span>
                        <br>
                        <span class="time-text">00:00:00</span>
                      </div>
                      <div class="weather">
                        <span id="city_text">Â§©Ê∞î</span>&nbsp;
                        <span id="wea_text">Âä†ËΩΩ‰∏≠</span>&nbsp;
                        <span id="tem_text"></span>
                        <span id="win_text">ËØ∑Á®ç</span>
                        <span id="win_speed">Á≠â~</span>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- ÂàÜÂâ≤Á∫ø -->
                <div class="line">
                  <i class="fa-solid fa-link"></i>
                  <span class="link-text">ÁΩëÁ´ôÂàóË°®</span>
                </div>
                <!-- ÁΩëÁ´ôÈìæÊé• -->
                <div class="link">
                  <!-- Á¨¨‰∏ÄÁªÑ -->
                  <div class="row" v-for="list in Config.linkList" :style="list.style">
                    <div :class="item.class" v-for="item in list.links">
                      <a :id="item.link_id" :href="item.href" target="_blank">
                        <div class="link-card cards">
                          <i :id="item.icon_id" :class="item.icon"></i>
                          <span class="link-name" :id="item.name_id">{{ item.name }}</span>
                        </div>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Â±ïÂºÄËèúÂçïÊåâÈíÆ -->
          <div class="menu" id="switchmenu">
            <a class="menu-button cards" id="menu">
              <i class="fa-solid fa-bars"></i>
            </a>
          </div>
          <!-- Êõ¥Â§öÂÜÖÂÆπ -->
          <div class="more" id="more">
            <!-- ÂÖ≥Èó≠ÊåâÈíÆ -->
            <div class="close fixed-top" id="close">
              <i class="fa-solid fa-circle-xmark"></i>
            </div>
            <div class="line" style="margin-top: 1rem;">
              <i class="fa-solid fa-angle-left"></i>
              <span class="line-text">Êó∂Èó¥ËÉ∂Âõä</span>
              <i class="fa-solid fa-angle-right"></i>
            </div>
            <div class="date" id="date">
              <div class="item" id="dayProgress">
                <div class="date-text" style="margin-top: 0rem;">‰ªäÊó•Â∑≤ÁªèÂ∫¶Ëøá‰∫Ü&nbsp;<span></span>&nbsp;Â∞èÊó∂
                </div>
                <div class="progress">
                  <div class="progress-bar"></div>
                </div>
              </div>
              <div class="item" id="weekProgress">
                <div class="date-text">Êú¨Âë®Â∑≤ÁªèÂ∫¶Ëøá‰∫Ü&nbsp;<span></span>&nbsp;Â§©</div>
                <div class="progress">
                  <div class="progress-bar"></div>
                </div>
              </div>
              <div class="item" id="monthProgress">
                <div class="date-text">Êú¨ÊúàÂ∑≤ÁªèÂ∫¶Ëøá‰∫Ü&nbsp;<span></span>&nbsp;Â§©</div>
                <div class="progress">
                  <div class="progress-bar"></div>
                </div>
              </div>
              <div class="item" id="yearProgress">
                <div class="date-text">‰ªäÂπ¥Â∑≤ÁªèÂ∫¶Ëøá‰∫Ü&nbsp;<span></span>&nbsp;‰∏™Êúà</div>
                <div class="progress">
                  <div class="progress-bar"></div>
                </div>
              </div>
            </div>
            <div class="line">
              <i class="fa-solid fa-angle-left"></i>
              <span class="line-text">ÊùÇ‰∏ÉÊùÇÂÖ´</span>
              <i class="fa-solid fa-angle-right"></i>
            </div>
            <!--ÁΩëÁ´ôÈìæÊé•-->
            <div class="row" v-for="list in Config.twoLinkList" :style="list.style">
              <div :class="item.class" v-for="item in list.links">
                <a :href="item.href" :target="item.target">
                  <div class="link-card cards">
                    <span class="link-name">{{ item.name }}</span>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <!-- ËÆæÁΩÆÈ°µÈù¢ -->
          <div class="box" id="box" style="display: none;">
            <div class="box-wrapper">
              <!--ÂÖ≥Èó≠ÊåâÈíÆ-->
              <div class="closebox fixed-top" id="closemore">
                <i class="fa-solid fa-circle-xmark"></i>
              </div>
              <!--Â∑¶‰æßÂÜÖÂÆπ-->
              <div class="box-left">
                <div class="img-title">
                  <span class="img-title-big" id="logo-title-other">{{ Config.logo_text_1 }}</span>
                  <span class="img-text" id="logo-title-other-small">.{{ Config.logo_text_2 }}</span><br />
                  <span class="img-text">&nbsp;v&nbsp;{{ Config.version }}</span>
                  <a :href="Config.github" target="_blank">
                    <i class="fa-brands fa-github"></i>
                  </a>
                </div>
                <!--Êõ¥Â§öÂÜÖÂÆπ-->
                <div class="accordion" id="accordion">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                      <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        Â£ÅÁ∫∏ËÆæÁΩÆ
                      </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                      data-bs-parent="#accordion">
                      <div class="accordion-body">
                        <div class="set">
                          <div class="wallpaper" id="wallpaper">
                            <div class="form-radio" v-for="item in Config.wallpapers">
                              <input type="radio" class="set-wallpaper" style="display: none;" :id="item.id"
                                :value="item.value" name="wallpaper-type" />
                              <label :for="item.for">{{ item.text }}</label>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--Êõ¥Êñ∞Êó•Âøó-->
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Êõ¥Êñ∞Êó•Âøó
                      </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                      data-bs-parent="#accordion">
                      <div class="accordion-body">
                        <div class="upnote">
                          <span class="uptext" v-for="item in Config.uptexts">
                            <i class="fa-solid fa-circle-plus"></i>&nbsp;{{ item.uptext }}
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Èü≥‰πêÂàóË°® -->
          <div class="box" id="box-music" style="display: none;">
            <div class="box-wrapper">
              <!--ÂÖ≥Èó≠ÊåâÈíÆ-->
              <div class="closebox fixed-top" id="closemore-music">
                <i class="fa-solid fa-circle-xmark"></i>
              </div>
              <!--Â∑¶‰æßÂÜÖÂÆπ-->
              <div class="box-left-music" id="box-music-box">
                <!-- Aplayer -->
                <div id="aplayer" :data-id="music.musicPlaylist" :data-server="music.musicServer"
                  :data-type="music.musicType"></div>
              </div>
            </div>
          </div>
        </div>
      </main>
      <!-- ÁâàÊùÉ‰ø°ÊÅØ -->
      <footer id="footer" class="fixed-bottom footer">
        <div class="power">
          <span id="power">Copyright&nbsp;&copy;
            <script>
              document.write(new Date().getFullYear());
            </script>
            <a :href="Config.myWeb" id="power-text">{{ Config.Copyright_text }}</a>
          </span>
          <!-- Â§áÊ°à -->
          <a href="https://beian.miit.gov.cn" target="_blank">&amp;&nbsp;{{ Config.beian }}</a>
        </div>
        <!-- Ê≠åËØçÊòæÁ§∫ -->
        <div id="lrc"></div>
      </footer>
    </section>
  </div>

  <!-- Ê≥®ÂÜå‰∏Ä‰∏™Service Worker ÈúÄË¶Å https sw.js -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", function () {
        navigator.serviceWorker.register("./js/sw.js");
      })
    }
  </script>
  <!-- ÊµèËßàÂô® jsÂà§Êñ≠ -->
  <noscript>
    <div class="noscript fixed-top">ËØ∑ÂºÄÂêØ JavaScript</div>
  </noscript>
  <!-- JS -->
  <script type="text/javascript" src="./js/vue/vue.min.js"></script>
  <script type="text/javascript" src="js/lib/js.cookie.js"></script>
  <script type="text/javascript" src="./js/encryption-key.js"></script>
  <script type="text/javascript" src="./js/config-loader.js"></script>
  <script type="text/javascript" src="./js/main.js"></script>
  <script type="text/javascript" src="./js/set.js"></script>
  <script type="text/javascript" src="./js/time.js"></script>
  <script type="text/javascript" src="js/lib/bootstrap.min.js"></script>
</body>
<script type="text/javascript">
  new Vue({
    el: '#app',
    data: {
      Config: {},
      music: {}
    },
    async created() {
      try {
        // ‰ΩøÁî®ÂÆâÂÖ®ÈÖçÁΩÆÂä†ËΩΩÂô®
        const loader = new SecureConfigLoader();
        this.Config = await loader.loadConfig('./config/setting.json');

        // Ê£ÄÊü•Ëß£ÂØÜÁä∂ÊÄÅ
        const status = loader.getDecryptionStatus(this.Config);
        if (!status.isFullyDecrypted) {
          console.warn('ÈÖçÁΩÆ‰∏≠Â≠òÂú®Êú™Ëß£ÂØÜÂ≠óÊÆµ:', status.encryptedFields);
          console.warn('ËØ∑Á°Æ‰øùÂ∑≤ËÆæÁΩÆÊ≠£Á°ÆÁöÑÂä†ÂØÜÂØÜÈí•');
        } else {
          console.log('‚úÖ ÈÖçÁΩÆÂÆåÂÖ®Ëß£ÂØÜÔºåÊâÄÊúâÂäüËÉΩÂèØÁî®');
        }
      } catch (error) {
        console.error('‚ùå ÈÖçÁΩÆÂä†ËΩΩÂ§±Ë¥•:', error);
        // ÈôçÁ∫ßÂà∞ÂéüÂßãÂä†ËΩΩÊñπÂºè
        let url = './config/setting.json'
        $.getJSON(url, (data) => {
          this.Config = data
          console.warn('üîÑ ‰ΩøÁî®ÈôçÁ∫ßÊ®°ÂºèÂä†ËΩΩÈÖçÁΩÆ');
        });
      }

      // È°µÂ§¥Êï∞ÊçÆ
      $('title').text(this.Config.title);
      $('#loading-title').text(this.Config.title);
      $('meta[name="description"]').attr('content', this.Config.description);
      $('meta[name="keywords"]').attr('content', this.Config.keywords);
      $('meta[name="author"]').attr('content', this.Config.author);

      // Èü≥‰πêÊí≠ÊîæÂô®
      if (this.Config.music) {
        this.music.server = this.Config.music.musicServer
        this.music.type = this.Config.music.musicType
        this.music.playlist = this.Config.music.musicPlaylist
        this.music.autoplay = this.Config.music.musicAutoplay
        this.music.loop = this.Config.music.musicLoop
      }
    },
    methods: {
    }
  })
</script>

</html>
